
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="alincode">
    <title>所有文章 - alincode</title>
    <meta name="author" content="alincode">
    
    
    
    <meta name="description" content="當你的才華還撐不起你的野心時，你就應該靜下心來學習">
<meta property="og:type" content="blog">
<meta property="og:title" content="alincode">
<meta property="og:url" content="http://alincode.github.io/blog/archives/index.html">
<meta property="og:site_name" content="alincode">
<meta property="og:description" content="當你的才華還撐不起你的野心時，你就應該靜下心來學習">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="alincode">
<meta name="twitter:description" content="當你的才華還撐不起你的野心時，你就應該靜下心來學習">
    
    
        
    
    
        <meta property="og:image" content="http://alincode.github.io/blog/assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/blog/assets/css/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/css/jquery.fancybox.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/css/jquery.fancybox-thumbs.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/css/tranquilpeak.css" type="text/css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-74395734-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/blog/ ">alincode</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="/blog/#about">
        
        
            <img class="header-picture" src="/blog/assets/images/profile.jpg"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/blog/assets/images/profile.jpg"/>
            </a>
            <span class="sidebar-profile-name">alincode</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首頁</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分類</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">標籤</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">所有文章</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/blog/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜尋</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">關於</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/alincode" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="mailto:alincode@gmail.com" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Email</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/blog/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">Atom</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/28/sails-i18n-object-notation/">
                            物件宣告 Sails 多國語系
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Mar 28 2016 17:12:56 GMT+0800">
	
		    3月 28, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>Sails 官方的文件，在於說明多國語系的部分非常簡略，請教 Google 大師之後，發現 Sails 多國語系的底層是使用<a href="https://github.com/mashpie/i18n-node" target="_blank" rel="external">i18n-node</a>，所以基本 i18n-node 有提供的功能都可以使用。</p>
<p>objectNotation 這個功能預設是 false，所以必須得先設定。</p>
<h3 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h3><p><strong>修改多國語系設定檔</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// config/i18n.js&#10;&#10;module.exports.i18n = &#123;&#10;  updateFiles: true,&#10;  localesDirectory: &#39;/config/locales&#39;,&#10;  locales: [&#39;en&#39;, &#39;zh&#39;],&#10;  // &#21152;&#36889;&#34892;&#10;  objectNotation: true&#10;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>支援物件式的寫法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// config/locales/zh.json&#10;&#123;&#10;  &#34;admin&#34;: &#123;&#10;    &#34;common&#34;: &#123;&#10;      &#34;createdAt&#34;: &#34;&#24314;&#31435;&#26085;&#26399;&#34;,&#10;      &#34;publishAt&#34;: &#34;&#30332;&#20296;&#26085;&#26399;&#34;,&#10;      &#34;title&#34;: &#34;&#27161;&#38988;&#34;,&#10;      &#34;content&#34;: &#34;&#20839;&#23481;&#34;,&#10;    &#125;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>修改 view 檔</strong></p>
<p>此範例是針對 <code>Jade</code> 的寫法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#123;i18n(&#39;admin.common.createdAt&#39;)&#125;</span><br></pre></td></tr></table></figure>
<h3 id="相關連結"><a href="#相關連結" class="headerlink" title="相關連結"></a>相關連結</h3><ul>
<li><a href="https://github.com/balderdashy/sails/issues/1878" target="_blank" rel="external">i18n does not support the objectNotation config option </a></li>
<li><a href="http://sailsjs.org/documentation/reference/configuration/sails-config-i-18-n" target="_blank" rel="external">sails i18n</a></li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/28/sails-i18n-object-notation/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/27/sequelize-delete/">
                            sequelize delete
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sun Mar 27 2016 21:30:16 GMT+0800">
	
		    3月 27, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>當你需要刪除一筆資料，但不要實際刪除資料，只想多一個欄位叫 <code>deletedAt</code>，並把刪除時間更新上去，<code>sequelize</code> 有提供這個功能，真的蠻實用的。</p>
<blockquote>
<p>don’t delete database entries but set the newly added attribute deletedAt<br> to the current date (when deletion was done). paranoid will only work if<br> timestamps are enabled</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var ContactUs = sequelize.define(&#39;ContactUs&#39;, &#123;&#10;  name: DataTypes.STRING,&#10;  email: DataTypes.STRING,&#10;  phone: DataTypes.STRING,&#10;  content: DataTypes.TEXT,&#10;&#125;,&#123;&#10;  // &#21152;&#36889;&#34892;&#10;  paranoid: true,&#10;  classMethods: &#123;&#10;    associate: function(models)&#123;&#10;    &#125;&#10;  &#125;&#10;&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>資料來源</strong><br><a href="http://docs.sequelizejs.com/en/latest/docs/models-definition/" target="_blank" rel="external">http://docs.sequelizejs.com/en/latest/docs/models-definition/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/27/sequelize-delete/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/26/react-debug-tip/">
                            React Debug 小技巧
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sat Mar 26 2016 02:00:19 GMT+0800">
	
		    3月 26, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>其實也沒有高深的理論，但我從來沒想過可以這樣用，將 Store / Action / Dispatcher 暫時變成全域變數。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// TodoStore.js&#10;window.todoStore = todoStore;</span><br></pre></td></tr></table></figure>
<p>然後就可以在 Chrome Console 直接下，直接執行 function。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">todoStore.your-function-name();</span><br></pre></td></tr></table></figure>
<p><a href="https://youtu.be/bvEC6i7CUyE?t=2m57s" target="_blank" rel="external">https://youtu.be/bvEC6i7CUyE?t=2m57s</a></p>
<p><strong>資料來源</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch?v=bvEC6i7CUyE" target="_blank" rel="external">Flux Store Events</a></li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/26/react-debug-tip/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/25/git-branch/">
                            取得其他 git remote branch
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Fri Mar 25 2016 23:18:45 GMT+0800">
	
		    3月 25, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>如果 remote 上面有很分支，你在下 <code>git clone</code> 的時候，會發現它只有幫你建一個預設的分支。</p>
<h3 id="查看-local-分支"><a href="#查看-local-分支" class="headerlink" title="查看 local 分支"></a>查看 local 分支</h3><p><code>git branch</code></p>
<h3 id="checkout-origin-上其他分支"><a href="#checkout-origin-上其他分支" class="headerlink" title="checkout origin 上其他分支"></a>checkout origin 上其他分支</h3><p>如果你也需要 origin 上其他分支，你可以下 <code>git branch --all</code> 找到你要 checkout 的分支名稱。</p>
<img src="/blog/2016/03/25/git-branch/git-branch.png" alt="git-branch.png" title="">
<p>然後把分支 checkout 出來，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b master origin/master</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/25/git-branch/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/24/JQuery-Module-Pattern/">
                            JQuery Module Pattern
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Thu Mar 24 2016 21:36:33 GMT+0800">
	
		    3月 24, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>這個 Pattern 主要是可以區別出 Private 跟 Public 的變數跟函式，把不需要對外的資料封裝起來。</p>
<h3 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(function($) &#123;&#10;&#10;  // link The Module Pattern&#10;  // https://learn.jquery.com/code-organization/concepts/&#10;  var member = (function() &#123;&#10;&#10;    // &#31169;&#26377;&#35722;&#25976;&#10;    var deleteMemberElement = &#39;#deleteMember&#39;;&#10;    var memberNoElement = &#39;input[name=memberNo]&#39;;&#10;    var memberTypeElement = &#39;#memberDetail select[name=memberType]&#39;;&#10;    var memberTypeSelectedElement = memberTypeElement + &#39; :selected&#39;;&#10;&#10;    // &#31169;&#26377;&#20989;&#24335;&#10;    var deleteMember = function(e) &#123;&#10;      e.preventDefault();&#10;    &#125;&#10;&#10;    var checkMemberID = function(e) &#123;&#10;      e.preventDefault();&#10;    &#125;&#10;&#10;    var hello = function() &#123;&#10;      alert(&#39;hello&#39;);&#10;    &#125;&#10;&#10;    // &#20844;&#38283;&#30340; API&#10;    return &#123;&#10;      init: function() &#123;&#10;        $(deleteMemberElement).on(&#39;click&#39;, deleteMember);&#10;        $(memberNoElement).on(&#39;change&#39;, checkMemberID);&#10;      &#125;,&#10;      otherAPI: function() &#123;&#10;        hello();&#10;      &#125;&#10;    &#125;;&#10;  &#125;)();&#10;&#10;  member.init();&#10;  member.otherAPI();&#10;&#10;&#125;(jQuery));</span><br></pre></td></tr></table></figure>
<h3 id="資料來源"><a href="#資料來源" class="headerlink" title="資料來源"></a>資料來源</h3><ul>
<li><a href="https://learn.jquery.com/code-organization/concepts/" target="_blank" rel="external">Code Organization Concepts</a></li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/24/JQuery-Module-Pattern/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/23/ckeditor-p/">
                            ckeditor 換行語法調整
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Wed Mar 23 2016 22:24:43 GMT+0800">
	
		    3月 23, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><p>你要先在 html 的地方，import plugin 檔案，此處不需要 import config 檔。</p>
<p>特別注意 ckeditor.js 的目錄，會是 config.js 的根目錄，因為我第一次在試的時候，是直接設 ckeditor 的 CDN，然後有另一個獨立的 config 檔案，但這樣是不行的，如果 ckeditor.js 檔是 http url，那 customConfig 的地方，也會變成去抓 url，不是本機的位置。</p>
<p><code>&lt;script src=&quot;./ckeditor.js&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h3><p>在 html 檔案內，須有對應的 html 元素跟 JS</p>
<h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;textarea name=&#34;editor1&#34; id=&#34;editor1&#34; rows=&#34;10&#34; cols=&#34;80&#34;&#62;&#10;    This is my textarea to be replaced with CKEditor.&#10;&#60;/textarea&#62;</span><br></pre></td></tr></table></figure>
<h4 id="js"><a href="#js" class="headerlink" title="js"></a>js</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CKEDITOR.replace( &#39;editor1&#39;);</span><br></pre></td></tr></table></figure>
<p>或</p>
<p>不使用預設的 config，另外獨立一個設定擋。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CKEDITOR.replace( &#39;editor1&#39;, &#123;&#10;  customConfig: &#39;./custom/ckeditor_config.js&#39;&#10;&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h3><p>改 config 設定內容，預設值是<code>P 元素</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.enterMode = CKEDITOR.ENTER_P;</span><br></pre></td></tr></table></figure>
<p>但還有其他選項，例如 <code>DIV 元素</code> 或 <code>BR 元素</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.enterMode = CKEDITOR.ENTER_DIV;&#10;// or&#10;config.enterMode = CKEDITOR.ENTER_BR;</span><br></pre></td></tr></table></figure>
<h3 id="完整範例"><a href="#完整範例" class="headerlink" title="完整範例"></a>完整範例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!DOCTYPE html&#62;&#10;&#60;html&#62;&#10;    &#60;head&#62;&#10;        &#60;meta charset=&#34;utf-8&#34;&#62;&#10;        &#60;title&#62;A Simple Page with CKEditor&#60;/title&#62;&#10;        &#60;!-- Make sure the path to CKEditor is correct. --&#62;&#10;        &#60;script src=&#34;./ckeditor.js&#34;&#62;&#60;/script&#62;&#10;    &#60;/head&#62;&#10;    &#60;body&#62;&#10;        &#60;form&#62;&#10;            &#60;textarea name=&#34;editor1&#34; id=&#34;editor1&#34; rows=&#34;10&#34; cols=&#34;80&#34;&#62;&#10;                This is my textarea to be replaced with CKEditor.&#10;            &#60;/textarea&#62;&#10;            &#60;script&#62;&#10;&#10;                CKEDITOR.replace( &#39;editor1&#39;);&#10;&#10;&#10;                // CKEDITOR.replace( &#39;editor1&#39;, &#123;&#10;                //     customConfig: &#39;./custom/ckeditor_config.js&#39;&#10;                // &#125;);&#10;            &#60;/script&#62;&#10;        &#60;/form&#62;&#10;    &#60;/body&#62;&#10;&#60;/html&#62;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// config.js &#25110; ./custom/ckeditor_config.js&#10;CKEDITOR.editorConfig = function( config ) &#123;&#10;  config.enterMode = CKEDITOR.ENTER_DIV;&#10;  // config.enterMode = CKEDITOR.ENTER_BR;&#10;  // config.enterMode = CKEDITOR.ENTER_P;&#10;&#125;;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/23/ckeditor-p/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/22/JWT-Authentication-with-AngularJS-Forward-4-Web-Summit-2/">
                            JWT Authentication with AngularJS Forward 4 Web Summit (2)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Tue Mar 22 2016 22:16:09 GMT+0800">
	
		    3月 22, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="Access-and-Refresh-Token-14-00"><a href="#Access-and-Refresh-Token-14-00" class="headerlink" title="Access and Refresh Token (14:00)"></a>Access and Refresh Token (14:00)</h3><ul>
<li>給 client access token 和 refresh token</li>
<li>access token 的效期要比 refresh token 短</li>
<li>refresh token 用來取得 access token</li>
<li>access token 來自於可靠的簽證機制</li>
<li>refresh token check for revocations</li>
<li>解除驗證的方式為否決 refresh token</li>
</ul>
<h3 id="Access-Token-黑名單-18-00"><a href="#Access-Token-黑名單-18-00" class="headerlink" title="Access Token 黑名單 (18:00)"></a>Access Token 黑名單 (18:00)</h3><ul>
<li>維護 refresh token 與 access token 的關聯</li>
<li>當 refresh token 被註銷的時候，把所有相關聯的 access token 放置黑名單</li>
<li>blacklists TTL is the expiration of the access token</li>
</ul>
<p>e.g. redis (21:30)</p>
<h3 id="Storing-and-Transmitting-JWTs-22-20"><a href="#Storing-and-Transmitting-JWTs-22-20" class="headerlink" title="Storing and Transmitting JWTs (22:20)"></a>Storing and Transmitting JWTs (22:20)</h3><h4 id="Tradeoffs-and-Concerns"><a href="#Tradeoffs-and-Concerns" class="headerlink" title="Tradeoffs and Concerns"></a>Tradeoffs and Concerns</h4><ul>
<li>Local Storage is not secure (XSS vulnerable)</li>
<li>在 HTTPS 下使用 Cookie 是安全的<br>HttpOnly</li>
</ul>
<h4 id="Secure-and-Painless-Tradeoffs-IMO-YMMV-27-20"><a href="#Secure-and-Painless-Tradeoffs-IMO-YMMV-27-20" class="headerlink" title="Secure and Painless Tradeoffs (IMO, YMMV) (27:20)"></a>Secure and Painless Tradeoffs (IMO, YMMV) (27:20)</h4><h3 id="使用-Cookie-的登入驗證-28-20"><a href="#使用-Cookie-的登入驗證-28-20" class="headerlink" title="使用 Cookie 的登入驗證 (28:20)"></a>使用 Cookie 的登入驗證 (28:20)</h3><h3 id="CSRF-38-00"><a href="#CSRF-38-00" class="headerlink" title="CSRF (38:00)"></a>CSRF (38:00)</h3><p>Cross Site Request Forgery</p>
<h4 id="解決方案-39-10"><a href="#解決方案-39-10" class="headerlink" title="解決方案 (39:10)"></a>解決方案 (39:10)</h4><ul>
<li>同步 token</li>
<li>送兩個 cookie</li>
<li>檢查 header origin</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=WzfJgCOMIsU" target="_blank" rel="external">https://www.youtube.com/watch?v=WzfJgCOMIsU</a></p>
<h3 id="vocabulary"><a href="#vocabulary" class="headerlink" title="vocabulary"></a>vocabulary</h3><ul>
<li>opaque (adj.)</li>
<li>revoke (v.) / revocation (n.)</li>
<li>blacklists</li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/22/JWT-Authentication-with-AngularJS-Forward-4-Web-Summit-2/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/21/chrome-debug-rendering/">
                            chrome debug rendering
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Mar 21 2016 21:53:18 GMT+0800">
	
		    3月 21, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>現在的網站，似乎都開始走背景 rendering，前陣子看到一個 react 的教學影片，看到影片作者用到這個小技巧，在 Chrome 的開發者工具，有一個 enable paint flashing，可以從畫面就可以得知，哪些區塊在背景有更新。</p>
<img src="/blog/2016/03/21/chrome-debug-rendering/rendering.png" alt="rendering.png" title="">

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/21/chrome-debug-rendering/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/20/JWT-Authentication-with-AngularJS-Forward-4-Web-Summit/">
                            JWT Authentication with AngularJS 重點整理 (1)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sun Mar 20 2016 19:35:42 GMT+0800">
	
		    3月 20, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="一般-Session-的產生流程-3-10"><a href="#一般-Session-的產生流程-3-10" class="headerlink" title="一般 Session 的產生流程 (3:10)"></a>一般 Session 的產生流程 (3:10)</h3><ul>
<li>瀏覽器發送一個 request 到 server，內含帳號跟密碼</li>
<li>server 驗證帳密後，產生一組 Session ID，存在 Cookie 裡。</li>
<li>將存有 Session ID 的 cookie，回傳給瀏覽器。</li>
<li>瀏覽器在下次與 server 傳遞訊息時，每次都要帶這個 Cookie 給 server</li>
</ul>
<h3 id="Session-識別的問題-3-50"><a href="#Session-識別的問題-3-50" class="headerlink" title="Session 識別的問題(3:50)"></a>Session 識別的問題(3:50)</h3><ul>
<li>難以理解，而且不含意義</li>
<li>增加資料庫的負擔</li>
<li>Perception that cookies are inherently insecure</li>
</ul>
<h3 id="專有名詞介紹-5-10"><a href="#專有名詞介紹-5-10" class="headerlink" title="專有名詞介紹 (5:10)"></a>專有名詞介紹 (5:10)</h3><ul>
<li>Authentication (n.) 驗證</li>
<li>Authorization (n.) 授權</li>
<li>Token</li>
<li>JWT: 是一種 token 格式，常使用在 Outh2 協定的 access token 和 refresh token 流程。</li>
</ul>
<h3 id="JWT-結構-6-55"><a href="#JWT-結構-6-55" class="headerlink" title="JWT 結構 (6:55)"></a>JWT 結構 (6:55)</h3><p>是一個經過 Base64-URL encoded 的字串</p>
<p><strong>結構分三個部分</strong></p>
<ul>
<li>Header</li>
<li>Body(Claims)</li>
<li>Cryptographic Signature 加密簽證</li>
</ul>
<h4 id="解開後的內容"><a href="#解開後的內容" class="headerlink" title="解開後的內容"></a>解開後的內容</h4><p><strong>範例</strong></p>
<ul>
<li>iss: <a href="http://yourdomain.com" target="_blank" rel="external">http://yourdomain.com</a></li>
<li>exp: 60000</li>
<li>sub: userId</li>
<li>scope: api/buy</li>
</ul>
<p><strong>意義</strong></p>
<ul>
<li>iss: 發佈者 (Issuer)</li>
<li>exp: 效期，單位是毫秒 (Expiration Time)</li>
<li>sub: 用戶 (Subject)</li>
<li>scope: 作用域</li>
</ul>
<h3 id="發佈-JWT-流程-11-05"><a href="#發佈-JWT-流程-11-05" class="headerlink" title="發佈 JWT 流程 (11:05)"></a>發佈 JWT 流程 (11:05)</h3><ul>
<li>使用者經過驗證後，取得 Token</li>
<li>由你的 server 來製造 Token</li>
<li>client 儲存 token，並在需要驗證的 request 使用它。</li>
</ul>
<h3 id="概述-JWT-12-15"><a href="#概述-JWT-12-15" class="headerlink" title="概述 JWT (12:15)"></a>概述 JWT (12:15)</h3><ul>
<li>無狀態認證機制</li>
<li>Token 具有作用域的概念</li>
<li>產生授權</li>
<li>決定區域性</li>
</ul>
<p>因為影片實在太長，後面有點不太好理解，分兩篇慢慢看</p>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/20/JWT-Authentication-with-AngularJS-Forward-4-Web-Summit/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/blog/2016/03/19/create-your-own-snippet/">
                            建立自己的 ATOM snippet
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" content="Sat Mar 19 2016 20:59:46 GMT+0800">
	
		    3月 19, 2016
    	
    </time>
    
</div>
            </div>
            
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>再 ATOM 上有蠻多 Snippet 的 package 可以安裝，不過有時候更新速度不夠快，你還是想要建立自己的，首先開啟 ATOM 然後工具列的地方，點一下 <code>Open Your Snippet</code>。</p>
<img src="/blog/2016/03/19/create-your-own-snippet/tooltip.png" alt="tooltip.png" title="">
<p>它會幫你開啟一個 <code>snippet.cson</code> 的文字檔</p>
<h3 id="Snippet-格式"><a href="#Snippet-格式" class="headerlink" title="Snippet 格式"></a>Snippet 格式</h3><h4 id="簡單範例"><a href="#簡單範例" class="headerlink" title="簡單範例"></a>簡單範例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;.source.js&#39;:&#10;  &#39;print request body&#39;:&#10;    &#39;prefix&#39;: &#39;tb&#39;&#10;    &#39;body&#39;: &#39;console.log(&#34;=== res.body ==&#62;&#34;, res.body);$1&#39;&#10;  &#39;print arrow&#39;:&#10;    &#39;prefix&#39;: &#39;t&#39;&#10;    &#39;body&#39;: &#39;console.log(&#34;==========&#62; &#34;, $1);&#39;</span><br></pre></td></tr></table></figure>
<ul>
<li>source.js 指的是哪種支援哪種副黨名的檔案</li>
<li>prefix 是指快速鍵</li>
<li>body 則是你自己指定的自動產生內容</li>
<li>$1 則是內容產生後，你指標停留的位址，除了 $1 之外，你也可以取 $2，可用 tab 鍵依序切換。</li>
</ul>
<h4 id="更多範例"><a href="#更多範例" class="headerlink" title="更多範例"></a>更多範例</h4><ul>
<li><a href="https://github.com/atom/language-html/blob/master/snippets/language-html.cson" target="_blank" rel="external">language-html.cson</a></li>
<li><a href="https://github.com/atom/language-javascript/blob/master/snippets/language-javascript.cson" target="_blank" rel="external">language-javascript.cson</a></li>
</ul>
<h3 id="參考來源"><a href="#參考來源" class="headerlink" title="參考來源"></a>參考來源</h3><ul>
<li><a href="https://atom.io/docs/latest/using-atom-snippets" target="_blank" rel="external">using-atom-snippets</a></li>
<li><a href="https://atom.io/docs/latest/using-atom-basic-customization#cson" target="_blank" rel="external">Basic Customization</a></li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/blog/2016/03/19/create-your-own-snippet/#post-footer" class="postShorten-excerpt_link link">
                                留言與分享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/blog/archives/page/2/">
                    <span>下一頁</span>
                <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
        </li>
        
        <li class="pagination-number">第 1 頁 共 3 頁</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 alincode. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/blog/assets/images/profile.jpg"/>
        
            <h4 id="about-card-name">alincode</h4>
        
            <h5 id="about-card-bio"><p>author.bio</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>軟體工程師</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Taiwan
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/blog/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/blog/assets/js/jquery.js" type="text/javascript"></script>
<script src="/blog/assets/js/jquery.fancybox.js" type="text/javascript"></script>
<script src="/blog/assets/js/jquery.fancybox-thumbs.js" type="text/javascript"></script>
<script src="/blog/assets/js/tranquilpeak.js" type="text/javascript"></script>
<!--SCRIPTS END-->



</html>
